<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="./ajax.js"></script>
    <script type="text/javascript">
        window.onload = function () {
            var oUser = document.getElementById('user');
            var oPass = document.getElementById('pass');
            var oBtn = document.getElementById('btn1');
            oBtn.onclick = function () {
                ajax({
                    url: '/login',
                    data: {
                        user: oUser.value,
                        pass: oPass.value
                    },
                    success: function (str) {
                        let json = eval('(' + str + ')')
                        if (json.ok) {
                            alert('登录成功')
                        } else {
                            alert('登录失败' + json.msg)
                        }
                    },
                    error: function () {
                        alert('通信失败')
                    }
                })
            }
        }
    </script>
</head>
<body>
用户: <input type="text" name="user" id="user"><br>
密码: <input type="password" name="pass" id="pass"><br>
<input type="button" value="登录" id="btn1">
</body>
</html>
